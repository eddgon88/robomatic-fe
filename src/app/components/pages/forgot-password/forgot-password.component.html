<div class="forgot-password-container">
    <!-- Lado izquierdo - Branding -->
    <div class="branding-side">
        <div class="branding-content">
            <div class="logo-container">
                <img src="assets/images/logo_ROBOMATIC.png" alt="Robomatic" class="logo">
            </div>
            <div class="branding-text">
                <h2>Password Recovery</h2>
                <p>Don't worry, it happens to the best of us. We'll help you get back into your account.</p>
            </div>
            <div class="security-badge">
                <i class="bi bi-shield-lock"></i>
                <span>Secure & Encrypted</span>
            </div>
        </div>
    </div>

    <!-- Lado derecho - Formulario -->
    <div class="form-side">
        <div class="form-container">
            <!-- Link de regreso -->
            <a class="back-link" (click)="goToLogin()">
                <i class="bi bi-arrow-left"></i>
                Back to Login
            </a>

            <!-- Formulario de solicitud -->
            <div *ngIf="!emailSent" class="form-content">
                <div class="form-header">
                    <div class="icon-circle">
                        <i class="bi bi-key"></i>
                    </div>
                    <h1>Forgot Password?</h1>
                    <p class="subtitle">No worries! Enter your email address below and we'll send you a link to reset your password.</p>
                </div>

                <div class="form-body">
                    <div class="input-group" [class.focused]="emailFocused" [class.has-value]="email">
                        <label for="email">
                            <i class="bi bi-envelope"></i>
                            Email Address
                        </label>
                        <input 
                            [(ngModel)]="email" 
                            id="email" 
                            name="email" 
                            type="email"
                            placeholder="Enter your email address"
                            autocomplete="email"
                            [disabled]="loading"
                            (focus)="emailFocused = true"
                            (blur)="emailFocused = false"
                            (keyup.enter)="requestRecovery()">
                    </div>

                    <button 
                        class="btn-primary" 
                        [disabled]="loading || !email"
                        (click)="requestRecovery()">
                        <span *ngIf="!loading">
                            <i class="bi bi-send"></i>
                            Send Recovery Link
                        </span>
                        <span *ngIf="loading" class="loading-state">
                            <span class="spinner"></span>
                            Sending...
                        </span>
                    </button>
                </div>

                <div class="form-footer">
                    <p>Remember your password? <a (click)="goToLogin()">Sign in</a></p>
                </div>
            </div>

            <!-- Estado de Ã©xito -->
            <div *ngIf="emailSent" class="success-content">
                <div class="success-animation">
                    <div class="checkmark-circle">
                        <i class="bi bi-envelope-check"></i>
                    </div>
                    <div class="success-ripple"></div>
                </div>

                <h1>Check Your Inbox</h1>
                <p class="success-message">
                    We've sent a password reset link to<br>
                    <strong>{{ maskedEmail }}</strong>
                </p>

                <div class="info-card">
                    <div class="info-item">
                        <i class="bi bi-clock"></i>
                        <span>Link expires in <strong>1 hour</strong></span>
                    </div>
                    <div class="info-item">
                        <i class="bi bi-folder2-open"></i>
                        <span>Check your <strong>spam folder</strong> if not found</span>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn-primary" (click)="goToLogin()">
                        <i class="bi bi-box-arrow-in-right"></i>
                        Back to Login
                    </button>
                    <button class="btn-secondary" (click)="emailSent = false">
                        <i class="bi bi-arrow-repeat"></i>
                        Try Different Email
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
